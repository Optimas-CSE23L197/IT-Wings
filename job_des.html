<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Job Description</title>

    <!-- Main CSS -->
    <link rel="stylesheet" href="css/main.css" />
  </head>
  <body>
    <!-- Header -->
    <header>
      <nav class="nav-bar">
        <div class="container">
          <div class="nav-wrapper d-flex al-center jc-between">
            <div class="logo d-flex al-center jc-between">
              <a href="#">
                <figure>
                  <img src="images/Baby.png" alt="logo" />
                </figure>
              </a>
            </div>

            <div class="nav-menu">
              <ul class="d-flex al-center">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="#">Service</a></li>
                <li><a href="career.html" class="active">Career</a></li>
                <li><a href="#">Contact Us</a></li>
              </ul>
            </div>

            <div class="contact-btn">
              <a href="contact.html">Get in touch</a>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <!-- home section -->
    <section class="home-menu-service-setion" id="home-menu-service-setion">
      <div class="home-menu-service-container">
        <div class="nav-service-wrapper">
          <div class="nav-banner">
            <div class="list">
              <h2>All</h2>
              <ul>
                <li>Govt.</li>
                <li>Tech</li>
                <li>Promotional</li>
                <li>Others</li>
              </ul>
            </div>
            <div class="list">
              <h2>Govt</h2>
              <ul>
                <li>Aadher</li>
                <li>PAN</li>
                <li>Voter</li>
                <li>Home Loan</li>
                <li>Business Loan</li>
                <li>See More...</li>
              </ul>
            </div>
            <div class="list">
              <h2>Tech</h2>
              <ul>
                <li>
                  <a href="./serviceInfo.html?id=web-development"
                    >Web development</a
                  >
                </li>
                <li>App Development</li>
                <li>API</li>
                <li>Cloud</li>
                <li>Course</li>
                <li>See More...</li>
              </ul>
            </div>
            <div class="list">
              <h2>Promotional</h2>
              <ul>
                <li>Facebook</li>
                <li>Youtube</li>
                <li>Instagram</li>
                <li>Twitter</li>
                <li>Threads</li>
                <li>See More...</li>
              </ul>
            </div>
            <div class="list">
              <h2>Others</h2>
              <ul>
                <li>Graphics design</li>
                <li>Logo design</li>
                <li>UI/UX</li>
                <li>Ads design</li>
                <li>See More...</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section class="contact-nav-section" id="contact-nav-section">
      <div class="home-menu-service-container">
        <div class="nav-service-wrapper">
          <div class="nav-contact-content">
            <div class="text">
              <h2>What’s on your mind?</h2>
              <p>
                We’re here to help! Tell us what you’re looking for and we’ll
                get you connected to the right people.
              </p>
            </div>
          </div>
          <div class="contact-option">
            <ul>
              <li><a href="request.html">Request a Service</a></li>
              <li><a href="about.html">Know About Us</a></li>
              <li><a href="jobs.html">Join Us</a></li>
              <li><a href="#">Learn With Us</a></li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== Banner ===== -->
    <section
      class="job-banner"
      style="background-image: url('images/career/career-5.jpg')"
    >
      <div class="container">
        <div class="banner-content">
          <h1 id="jobTitle">Loading...</h1>
          <p id="shortDescription"></p>
        </div>
      </div>
    </section>

    <main>
      <!-- ===== Job Description Section ===== -->
      <section class="job-description-section">
        <div class="container">
          <div class="job-content-wrapper">
            <!-- Left Content -->
            <div class="job-details">
              <h2 class="section-title">Job Description</h2>

              <div class="job-details-grid">
                <div class="job-item">
                  <span>Skill Set:</span> <span id="skills"></span>
                </div>
                <div class="job-item">
                  <span>Total Experience:</span> <span id="experience"></span>
                </div>
                <div class="job-item">
                  <span>Location:</span> <span id="location"></span>
                </div>
                <div class="job-item"><span>Domain:</span> IT</div>
                <div class="job-item">
                  <span>Openings:</span> <span id="openings"></span>
                </div>
                <div class="job-item">
                  <span>Posted:</span> <span id="postedDate"></span>
                </div>
                <div class="job-item">
                  <span>Expiry:</span> <span id="expiryDate"></span>
                </div>
                <div class="job-item">
                  <span>Reference No:</span> <span id="referenceNumber"></span>
                </div>
              </div>

              <hr />

              <h2 class="section-title">Job Summary</h2>
              <p id="fullDescription" class="job-summary"></p>
            </div>

            <!-- Apply Box -->
            <aside class="apply-box">
              <div class="apply-card">
                <h3>Interested in this role?</h3>
                <p>Be part of our growing technology team.</p>
                <a href="#careers-contact" class="apply-btn">Apply Now</a>
              </div>
            </aside>
          </div>
        </div>
      </section>

      <!-- Resume Form -->
      <section class="careers-contact" id="careers-contact">
        <div class="container">
          <div class="careers-wrapper">
            <div class="apply">
              <h2>Post Your Resume / Registration</h2>
              <p class="note">(*) Asterisk denotes mandatory fields</p>

              <form id="applyForm">
                <div class="row">
                  <div class="input-box">
                    <label>First Name *</label>
                    <input
                      type="text"
                      required
                      placeholder="Enter your first name"
                    />
                  </div>

                  <div class="input-box">
                    <label>Last Name *</label>
                    <input
                      type="text"
                      required
                      placeholder="Enter your last name"
                    />
                  </div>
                </div>

                <div class="row">
                  <div class="input-box">
                    <label>Country *</label>
                    <select required>
                      <option value="">Select Country</option>
                      <option>India</option>
                      <option>USA</option>
                      <option>UK</option>
                      <option>Canada</option>
                    </select>
                  </div>

                  <div class="input-box">
                    <label>Experience *</label>
                    <select required>
                      <option value="">Select Experience</option>
                      <option>Fresher</option>
                      <option>1-2 Years</option>
                      <option>2-5 Years</option>
                      <option>5+ Years</option>
                    </select>
                  </div>
                </div>

                <div class="row">
                  <div class="input-box">
                    <label>Email *</label>
                    <input
                      type="email"
                      required
                      placeholder="Enter your email"
                    />
                    <small>(Please enter email as your username)</small>
                  </div>
                </div>

                <div class="row">
                  <div class="input-box">
                    <label>Application Type *</label>
                    <select required>
                      <option value="">Select Type</option>
                      <option>Full-Time</option>
                      <option>Part-Time</option>
                      <option>Freelance</option>
                      <option>Internship</option>
                      <option>Contract</option>
                    </select>
                  </div>

                  <div class="input-box">
                    <label>Skills *</label>
                    <input
                      type="text"
                      required
                      placeholder="Enter up to 5 skills"
                    />
                    <small>(Example: Java, React, UI/UX)</small>
                  </div>
                </div>

                <div class="row">
                  <div class="input-box">
                    <label>Country Code *</label>
                    <select required>
                      <option value="">Choose</option>
                      <option>+91</option>
                      <option>+1</option>
                      <option>+44</option>
                    </select>
                  </div>

                  <div class="input-box">
                    <label>Mobile Number *</label>
                    <input
                      type="tel"
                      required
                      maxlength="10"
                      placeholder="Enter mobile number"
                    />
                  </div>
                </div>

                <div class="row">
                  <div class="input-box">
                    <label>Upload Resume *</label>
                    <input type="file" required accept=".pdf,.doc,.docx,.rtf" />
                    <small>(Allowed: .doc, .docx, .rtf, .pdf)</small>
                  </div>
                </div>

                <button type="submit" class="submit-btn">
                  Submit Application
                </button>
              </form>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- footer -->
    <footer class="footer">
      <div class="footer-cta">
        <div class="container">
          <h2>Ready to work with us?</h2>
          <p>
            Join us to experience cutting-edge industrial solutions that drive
            innovation and lasting success.
          </p>
          <a href="contact.html" class="btn-primary">Get in Touch</a>
        </div>
      </div>

      <div class="footer-main">
        <div class="container footer-grid">
          <!-- Logo & About -->
          <div class="footer-col about">
            <img
              src="images/service-banner.jpg"
              alt="ProFactory Logo"
              class="footer-logo"
            />
            <p>
              We are committed to providing personalized industrial solutions
              that transform your business.
            </p>
            <div class="social-icons">
              <a href="#" target="_blank"
                ><i class="fa-brands fa-linkedin-in"></i
              ></a>
              <a href="#" target="_blank"
                ><i class="fa-brands fa-x-twitter"></i
              ></a>
              <a href="#" target="_blank"><i class="fab fa-facebook-f"></i></a>
              <a href="#" target="_blank"><i class="fab fa-instagram"></i></a>
              <a href="#" target="_blank"
                ><i class="fa-brands fa-youtube"></i
              ></a>
            </div>
          </div>

          <!-- Quick Links -->
          <div class="footer-col">
            <h4>Quick Links</h4>
            <ul>
              <li><a href="index.html">Home</a></li>
              <li><a href="about.html">About Us</a></li>
              <li><a href="#">Blog</a></li>
              <li><a href="#">Services</a></li>
            </ul>
          </div>

          <!-- Legal -->
          <div class="footer-col">
            <h4>Security</h4>
            <ul>
              <li><a href="#">Terms & Conditions</a></li>
              <li><a href="#">Privacy Policy</a></li>
              <li><a href="#">Help</a></li>
              <li><a href="contact.html">Contact Us</a></li>
            </ul>
          </div>

          <!-- Contact Info -->
          <div class="footer-col">
            <h4>Contact</h4>
            <ul class="contact-info">
              <li><a href="tel:+91123654789">+91 123654789</a></li>
              <li>
                <a href="mailto:info@domainname.com">info@domainname.com</a>
              </li>
              <li>
                <a href="https://goo.gl/maps/XYZ" target="_blank"
                  >520, West Valley, Amin and Minim</a
                >
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2025 IT-Wings Webtech Solutions. All Rights Reserved.</p>
      </div>
    </footer>

    <!-- ===== Dynamic Job Fetch Script ===== -->
    <script>
      // Step 1: Read referenceNumber from URL
      const urlParams = new URLSearchParams(window.location.search);
      const referenceNumber = urlParams.get("ref");

      if (!referenceNumber) {
        alert("Invalid job reference number!");
      }

      // Step 2: Fetch Job Details By Reference Number
      const fetchJobDetails = async () => {
        try {
          const response = await fetch(
            `http://127.0.0.1:8085/main/api/v1/job/ref/${referenceNumber}`
          );

          const result = await response.json();

          if (!result.data) {
            document.querySelector(".job-details").innerHTML =
              "<p>Job not found.</p>";
            return;
          }

          const job = result.data;

          // Step 3: Fill dynamic data
          document.getElementById("jobTitle").textContent = job.jobTitle;
          document.getElementById("shortDescription").textContent =
            job.shortDescription;
          document.getElementById("fullDescription").textContent =
            job.fullDescription;

          document.getElementById("location").textContent = job.location;
          document.getElementById("openings").textContent = job.openings;
          document.getElementById("postedDate").textContent = job.postedDate;
          document.getElementById("expiryDate").textContent = job.expiryDate;

          document.getElementById("experience").textContent =
            job.experienceMin + " - " + job.experienceMax + " Years";

          document.getElementById("referenceNumber").textContent =
            job.referenceNumber;

          // Skills
          document.getElementById("skills").innerHTML = job.skillSet
            .map((s) => `<span>${s}</span>`)
            .join(", ");
        } catch (error) {
          console.error("Error:", error);
        }
      };

      fetchJobDetails();
    </script>
  </body>
</html>
